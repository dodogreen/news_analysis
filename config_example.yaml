# =============================================================================
# 自動化金融新聞情報系統 — 使用者設定檔
# 修改此檔後無需重新 build Docker image，直接 run 即可生效
# =============================================================================

# 新聞摘要開關（設為 false 可只跑 YouTube 摘要）
news:
  enabled: true

# 關鍵字與權重（分數越高越優先送入 AI 摘要）
keywords:
  台積電: 10
  TSMC: 10
  製程: 7
  3nm: 8
  2nm: 8
  營收: 6
  毛利率: 6
  降息: 7
  Fed: 7
  聯準會: 7
  關稅: 8
  tariff: 8
  AI 伺服器: 9
  AI server: 9
  NVIDIA: 8
  輝達: 8
  半導體: 7
  semiconductor: 7
  CoWoS: 9
  HBM: 8
  台股: 5
  加權指數: 5
  聯發科: 7
  MediaTek: 7

# 過濾門檻：低於此分數的文章不送入 AI
min_score: 5

# 送入 Gemini 的文章上限
max_articles: 50

# Gemini 模型名稱
gemini_model: "gemini-2.5-flash"

# RSS 來源（名稱: URL）
rss_feeds:
  MoneyDJ: "https://www.moneydj.com/KMDJ/RSS/RSSFeed.aspx"
  TechNews: "https://technews.tw/feed/"
  BBC_Business: "http://feeds.bbci.co.uk/news/business/rss.xml"
  BBC_Tech: "http://feeds.bbci.co.uk/news/technology/rss.xml"

# 網頁爬蟲目標
scrape_targets:
  - name: "鉅亨網"
    url: "https://news.cnyes.com/news/cat/tw_stock"
    api_url: "https://api.cnyes.com/media/api/v1/newslist/category/tw_stock"
    use_api: true
  - name: "工商時報"
    url: "https://www.ctee.com.tw/livenews/lf"
    title_selector: ".title a"
    link_selector: ".title a"

# NewsAPI 設定（需在 .env 中設定 NEWSAPI_KEY）
newsapi:
  enabled: true
  query: "TSMC OR semiconductor OR AI server OR Fed rate"
  language: "en"
  sort_by: "publishedAt"

# 郵件收件人（機密的 SMTP 帳密在 .env 中設定）
email:
  recipients:
    - user1@example.com
  subject_prefix: "[金融情報]"

# 排程時間（UTC+8 台灣時間，格式 HH:MM，GitHub Actions 用）
schedule_times:
  - "08:30"
  - "18:00"

# YouTube 影片摘要（需在 .env 中設定 YOUTUBE_API_KEY）
youtube:
  enabled: false
  stt_model: "gemini-2.5-flash"          # 全域預設語音辨識模型
  summary_model: "gemini-2.5-flash"       # 全域預設摘要模型
  summary_prompt: |                       # 全域預設摘要 prompt
    你是一位資深財經分析師。請分析以下影片逐字稿，產出精簡摘要。
    要求：提煉 3-5 個核心觀點、標註重要股票代號、使用繁體中文、markdown 格式。
  email:                                  # 全域預設 email 設定
    recipients:
      - user1@example.com
    subject_prefix: "[影片摘要]"
  shows:
    - name: "範例頻道"
      channel_id: "UC..."                 # YouTube 頻道 ID
      max_videos: 3                       # 每次抓幾部最新影片
      schedule_times:                     # 該節目的獨立排程
        - "09:00"
      # 以下為可選覆蓋設定（不設則使用全域預設）：
      # stt_model: "gemini-2.5-pro"
      # summary_model: "gemini-2.5-pro"
      # summary_prompt: "自訂 prompt..."
      # email:
      #   recipients: ["vip@example.com"]
      #   subject_prefix: "[自訂前綴]"

# AI 摘要分類
categories:
  - "半導體與伺服器供應鏈"
  - "台股大盤與上市櫃公司動態"
  - "國際宏觀經濟（FED、通膨、關稅政策）"
